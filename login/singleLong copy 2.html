<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <style>
    video {
      background-color: black
    }
  </style>
</head>

<body>
  <div id="video_container">
    <video poster="http://media.w3.org/2010/05/sintel/poster.png" preload="none" controls="" id="video" tabindex="0">
      <source type="video/mp4" src="http://media.w3.org/2010/05/sintel/trailer.mp4" id="mp4">
      </source>
      <source type="video/webm" src="http://media.w3.org/2010/05/sintel/trailer.webm" id="webm">
      </source>
      <source type="video/ogg" src="http://media.w3.org/2010/05/sintel/trailer.ogv" id="ogv">
      </source>
      <p>Your user agent does not support the HTML5 Video element.</p>
    </video>
  </div>

  <div>Current Time : <span id="currentTime">0</span></div>
  <div>Total time : <span id="totalTime">0</span></div>


  <script>
    var totalTime;
    $(function () {
      $('#currentTime').html($('#video_container').find('video').get(0).load()); $('#currentTime').html($('#video_container').find('video').get(0).play());
    })

    setInterval(function () {
      totalTime = $('#currentTime').html($('#video_container').find('video').get(0).currentTime);
      $('#totalTime').html($('#video_container').find('video').get(0).duration);
    }, 500)


    window.onbeforeunload = function () {
      //alert($("#currentTime").text());
      alert($('#video_container').find('video').get(0).currentTime)
    }
  </script>
</body>